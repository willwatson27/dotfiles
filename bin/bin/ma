#!/bin/bash

SESSION_NAME="MA"
SESSION_DIR="$HOME/ma-workspace"
cd $SESSION_DIR
tmux
tmux new-session -d -s $SESSION_NAME
tmux split-window -h -l 56
tmux send-keys 'clear ; v .' C-m
tmux split-window -v -l 10
tmux send-keys 'clear ; npm start' C-m

# SESSION_NAME="MA"
# SESSION_DIR="$HOME/ma-workspace"
# SIDEBAR_WIDTH="56"  # Sidebar pane width in columns
# SIDEBAR_VERT="10"   # Bottom-right pane height in lines
#
# # Check if the session already exists
# tmux has-session -t $SESSION_NAME 2>/dev/null
# if [ $? -ne 0 ]; then
#     # Create a new session with one pane
#     tmux new-session -d -s $SESSION_NAME -n 'root' -c $SESSION_DIR
#
#     # Pane 1: Main working area (default)
#     tmux send-keys -t $SESSION_NAME:root 'clear ; v .' C-m
#
#     # Split Pane 1 horizontally to create Pane 2 (Right sidebar)
#     tmux select-pane -t $SESSION_NAME:root.1
#     tmux split-window -h -l $SIDEBAR_WIDTH -c $SESSION_DIR
#
#     # Pane 2: Right sidebar
#     tmux send-keys 'clear ; npm start' C-m
#
#     # Split Pane 2 vertically to create Pane 3 (Bottom-right)
#     tmux split-window -v -l $SIDEBAR_VERT -c $SESSION_DIR
#
#     # Pane 3: Bottom-right
#     tmux send-keys 'clear ; npm run server' C-m
#
#     # Focus back on the main pane (Pane 1)
#     tmux select-pane -t $SESSION_NAME:root.1
# fi
#
# # Attach to the session
# tmux attach-session -t $SESSION_NAME
